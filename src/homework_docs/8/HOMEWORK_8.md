# Домашнее задание 8: LiveSearchSelect с фильтрацией по категориям

## Цель задания

Разработать продвинутый компонент поиска с выпадающим списком категорий, который будет фильтровать данные как по текстовому запросу, так и по выбранной категории.

## Основные требования

### 1. Интерфейсы TypeScript

Реализуйте следующие интерфейсы:

```typescript
interface BaseItem {
  id: number;
  name: string;
  category: string;
  [key: string]: any; // для дополнительных полей
}

interface CategoryOption {
  value: string;
  label: string;
  count?: number; // количество элементов в категории
}

interface MonoSelectProps {
  options: CategoryOption[];
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  disabled?: boolean;
  showCount?: boolean; // показывать ли количество элементов
}

interface SearchFieldProps {
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  categorySlot?: React.ReactNode;
  onClear?: () => void;
}

interface LiveSearchSelectProps<T extends BaseItem> {
  data: T[];
  searchQuery: string;
  selectedCategory: string;
  onSearchChange: (query: string) => void;
  onCategoryChange: (category: string) => void;
  categoryOptions: CategoryOption[];
  renderItem: (item: T) => React.ReactNode;
  gridColumns?: number;
}
```

### 2. Компонент MonoSelect

Создайте выпадающий список с функциональностью:

- Открытие/закрытие по клику
- Визуальное выделение выбранного элемента
- Поддержка клавиатурной навигации (стрелки вверх/вниз, Enter, Escape)
- Закрытие при клике вне компонента
- Опциональное отображение количества элементов в категории
- Состояние disabled
- Анимация открытия/закрытия

### 3. Компонент SearchField

Реализуйте поле поиска с:

- Слотом для категории (categorySlot)
- Кнопкой очистки поля
- Индикатором активного поиска
- Debounce для оптимизации производительности (300-500мс)
- Поддержкой горячих клавиш (Ctrl+K для фокуса)

### 4. Основной компонент LiveSearchSelect

Создайте главный компонент, который:

- Принимает массив данных для фильтрации
- Фильтрует по категории И по поисковому запросу одновременно
- Автоматически подсчитывает количество элементов в каждой категории
- Использует render prop для отображения элементов
- Поддерживает настраиваемое количество колонок в гриде
- Показывает состояние "ничего не найдено"
- Сохраняет выбранную категорию в localStorage

### 5. Дополнительные требования

#### Производительность

- Мемоизация фильтрованных данных
- Оптимизация ререндеров компонентов
- Виртуализация для больших списков (бонус)

#### UX/UI

- Плавные анимации и переходы
- Адаптивная верстка
- Индикаторы загрузки
- Хлебные крошки для показа активных фильтров

#### Функциональность

- Множественный выбор категорий (бонус)
- Сортировка результатов
- Экспорт/импорт настроек фильтрации
- История поисковых запросов

### 6. Структура проекта

```
src/
  components/
    LiveSearchSelect/
      index.ts                    # Экспорты
      LiveSearchSelect.tsx        # Основной компонент
      MonoSelect.tsx             # Выпадающий список
      SearchField.tsx            # Поле поиска
      ProductGrid.tsx            # Сетка элементов
      types.ts                   # TypeScript интерфейсы
      hooks/
        useDebounce.ts           # Хук для debounce
        useLocalStorage.ts       # Хук для localStorage
        useKeyboardNavigation.ts # Навигация с клавиатуры
      styles/
        LiveSearchSelect.scss    # Стили
```

### 7. Тестовые данные

Создайте минимум 50 тестовых объектов в 5-7 категориях с полями:

- id, name, category (обязательные)
- price, description, tags, rating, available (опциональные)

### 8. Критерии оценки

**Базовый уровень (60%)**:

- Все основные интерфейсы реализованы
- MonoSelect работает с базовой функциональностью
- SearchField фильтрует данные
- Компоненты корректно взаимодействуют

**Средний уровень (80%)**:

- Добавлена клавиатурная навигация
- Реализован debounce
- Данные сохраняются в localStorage
- Код оптимизирован с useMemo/useCallback

**Продвинутый уровень (100%)**:

- Все дополнительные требования выполнены
- Качественная анимация и UX
- Адаптивная верстка
- Покрытие TypeScript типами 100%

**Экспертный уровень (бонус)**:

- Виртуализация списков
- Множественный выбор
- Unit/интеграционные тесты
- Storybook документация

## Ограничения

- Запрещено использовать готовые UI библиотеки (Material-UI, Ant Design и т.д.)
- Не используйте внешние API - только локальные данные
- Обязательное использование TypeScript
- Минимальная поддержка браузеров: последние 2 версии Chrome, Firefox, Safari

## Сроки сдачи

**Срок**: 1 неделя после выдачи задания

**Формат сдачи**: Ссылка на GitHub репозиторий с работающим демо на GitHub Pages или Vercel

**Дополнительно**: README.md с описанием архитектуры и инструкцией по запуску

---

*Удачи в выполнении задания! При возникновении технических вопросов обращайтесь к преподавателю.*
