# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 9: –°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–∫–∞ useStepper –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

## –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ö—É–∫ `useStepper` –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –µ–≥–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–∫–∞ useStepper

–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ö—É–∫ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏:

```typescript
// –®–∞–≥–∏ –∫–∞–∫ enum
enum CheckoutSteps {
    CART = 'cart',
    DELIVERY = 'delivery', 
    PAYMENT = 'payment',
    CONFIRMATION = 'confirmation'
}

// Enum –¥–ª—è —Å–ø–æ—Å–æ–±–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
enum DeliveryMethods {
    COURIER = 'courier',
    PICKUP = 'pickup'
}

// Enum –¥–ª—è —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
enum PaymentMethods {
    CARD = 'card',
    CASH = 'cash'
}

// –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö—É–∫–∞ useStepper
export interface Stepper<T extends string> {
    currentStep: T;                    // –¢–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —à–∞–≥
    nextStep: () => void;              // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
    previousStep: () => void;          // –í–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —à–∞–≥—É
    goToStep: (step: T) => void;       // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —à–∞–≥—É
    reset: () => void;                 // –°–±—Ä–æ—Å –∫ –ø–µ—Ä–≤–æ–º—É —à–∞–≥—É
    currentStepIndex: number;          // –ò–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
    totalSteps: number;                // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
    isFirstStep: boolean;              // –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–π —à–∞–≥ –ø–µ—Ä–≤—ã–º
    isLastStep: boolean;               // –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–π —à–∞–≥ –ø–æ—Å–ª–µ–¥–Ω–∏–º
    progress: number;                  // –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (0-100)
}

// –ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—É–∫–∞
export interface StepperConfig<T extends string> {
    steps: T[];                        // –ú–∞—Å—Å–∏–≤ —à–∞–≥–æ–≤ (enum values)
    initialStep?: T;                   // –ù–∞—á–∞–ª—å–Ω—ã–π —à–∞–≥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–µ—Ä–≤—ã–π)
    onStepChange?: (step: T) => void;  // –ö–æ–ª–±—ç–∫ –ø—Ä–∏ —Å–º–µ–Ω–µ —à–∞–≥–∞
    onComplete?: () => void;           // –ö–æ–ª–±—ç–∫ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
}

// –•—É–∫ useStepper
export declare function useStepper<T extends string>(
    config: StepperConfig<T>
): Stepper<T>;
```

### 2. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
  hooks/
    useStepper.ts              # –û—Å–Ω–æ–≤–Ω–æ–π —Ö—É–∫
    useLocalStorage.ts         # –•—É–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
    
  components/
    StepIndicator.tsx          # –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    ProgressBar.tsx            # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
    UniversalInput.tsx         # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–≤–æ–¥–∞
      
  types/
    checkout.ts                # –¢–∏–ø—ã –¥–ª—è –∑–∞–∫–∞–∑–∞
    
  data/
    mockData.ts                # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    
  CheckoutStepper.tsx          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –®–∞–≥ 1: –ö–æ—Ä–∑–∏–Ω–∞ (CART)

- –°–ø–∏—Å–æ–∫ –∏–∑ 3-5 —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –∫–æ—Ä–∑–∏–Ω–∞ –Ω–µ –ø—É—Å—Ç–∞—è

#### –®–∞–≥ 2: –î–æ—Å—Ç–∞–≤–∫–∞ (DELIVERY)

- –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ (—Å–µ–ª–µ–∫—Ç: DeliveryMethods.COURIER/PICKUP)
- –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ (—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ)
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

#### –®–∞–≥ 3: –û–ø–ª–∞—Ç–∞ (PAYMENT)

- –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã (—Ä–∞–¥–∏–æ: PaymentMethods.CARD/CASH)
- –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã (–µ—Å–ª–∏ PaymentMethods.CARD)
- –í–∞–ª–∏–¥–∞—Ü–∏—è: —Å–ø–æ—Å–æ–± –≤—ã–±—Ä–∞–Ω, –∫–∞—Ä—Ç–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞

#### –®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (CONFIRMATION)

- –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ö–Ω–æ–ø–∫–∞ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
- –ü–æ–∫–∞–∑ –Ω–æ–º–µ—Ä–∞ –∑–∞–∫–∞–∑–∞

### 4. –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö —Å enum

```typescript
// –¢–æ–≤–∞—Ä
interface Product {
    id: number;
    name: string;
    price: number;
    quantity: number;
}

// –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å enum
interface DeliveryData {
    method: DeliveryMethods;
    address: string;
}

// –î–∞–Ω–Ω—ã–µ –æ–ø–ª–∞—Ç—ã —Å enum
interface PaymentData {
    method: PaymentMethods;
    cardNumber?: string;
}

// –ó–∞–∫–∞–∑
interface Order {
    products: Product[];
    delivery: DeliveryData;
    payment: PaymentData;
    total: number;
}
```

### 5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

- **–•—É–∫ useStepper** —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- **Enum –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤** (CheckoutSteps, DeliveryMethods, PaymentMethods)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **localStorage** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **TypeScript** –±–µ–∑ any
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞**

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–±–æ–Ω—É—Å)

- **–ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤** (+10%)
- **–¢–µ—Å—Ç—ã –¥–ª—è —Ö—É–∫–∞** (+10%)

### 6. UI —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —à–∞–≥–æ–≤** —Å –Ω–æ–º–µ—Ä–∞–º–∏ 1-4
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç
- **–ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** –ù–∞–∑–∞–¥/–î–∞–ª–µ–µ
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö

### 7. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å enum

```typescript
// 5 —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
const mockProducts = [
    { id: 1, name: 'iPhone 14', price: 999, quantity: 1 },
    { id: 2, name: 'MacBook Pro', price: 1999, quantity: 1 },
    { id: 3, name: 'AirPods', price: 199, quantity: 2 },
    { id: 4, name: 'iPad', price: 599, quantity: 1 },
    { id: 5, name: 'Apple Watch', price: 399, quantity: 1 }
];

// –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ —Å enum
const deliveryOptions = [
    { value: DeliveryMethods.COURIER, label: '–ö—É—Ä—å–µ—Ä (+200‚ÇΩ)' },
    { value: DeliveryMethods.PICKUP, label: '–°–∞–º–æ–≤—ã–≤–æ–∑ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)' }
];

// –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã —Å enum
const paymentOptions = [
    { value: PaymentMethods.CARD, label: '–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞' },
    { value: PaymentMethods.CASH, label: '–ù–∞–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏' }
];
```

### 8. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

#### –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å (70%)

- –•—É–∫ useStepper —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í—Å–µ enum –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –í—Å–µ 4 —à–∞–≥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage

#### –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å (85%)

- –•–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å (100%)

- –û—Ç–ª–∏—á–Ω—ã–π UX –∏ –¥–∏–∑–∞–π–Ω
- –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ

### 9. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–¥–∞—á–∞

**–°—Ä–æ–∫:** 1 –Ω–µ–¥–µ–ª—è

**–§–æ—Ä–º–∞—Ç:**

- GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –î–µ–º–æ —Å—Å—ã–ª–∫–∞ (Vercel/Netlify)
- README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∑–∞–ø—É—Å–∫–∞

### 10. –ü–æ–¥—Å–∫–∞–∑–∫–∏

üí° **–ù–∞—á–Ω–∏—Ç–µ —Å enum** –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö  
üí° **–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫** –ø–µ—Ä–µ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏  
üí° **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Object.values(CheckoutSteps)** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ —à–∞–≥–æ–≤  
üí° **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ enum –∑–Ω–∞—á–µ–Ω–∏—è** –≤ switch case  
üí° **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–∏–ø–∏–∑–∞—Ü–∏—é** - TypeScript –¥–æ–ª–∂–µ–Ω –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã  

### 11. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–∞ —Å enum

```typescript
const steps = Object.values(CheckoutSteps);

const stepper = useStepper({
    steps,
    onStepChange: (step) => console.log('–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞:', step),
    onComplete: () => console.log('–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!')
});

// –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const renderStepContent = () => {
    switch (stepper.currentStep) {
        case CheckoutSteps.CART:
            return <CartForm />;
        case CheckoutSteps.DELIVERY:
            return <DeliveryForm />;
        case CheckoutSteps.PAYMENT:
            return <PaymentForm />;
        case CheckoutSteps.CONFIRMATION:
            return <ConfirmationForm />;
        default:
            return null; // TypeScript –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ —Å–ª—É—á–∞–∏
    }
};

// –í–∞–ª–∏–¥–∞—Ü–∏—è —Å enum
const validateStep = (step: CheckoutSteps): boolean => {
    switch (step) {
        case CheckoutSteps.CART:
            return cartItems.length > 0;
        case CheckoutSteps.DELIVERY:
            return deliveryData.method !== null && deliveryData.address.length > 0;
        case CheckoutSteps.PAYMENT:
            return paymentData.method !== null && 
                   (paymentData.method === PaymentMethods.CASH || paymentData.cardNumber?.length > 0);
        default:
            return true;
    }
};
```

### 12. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è enum

‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - TypeScript –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã  
‚úÖ **–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** - IDE –ø–æ–¥—Å–∫–∞–∂–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è  
‚úÖ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** - –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è  
‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º  
‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - impossible states —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è impossible  

---

**–£—Å–ø–µ—Ö–æ–≤! –§–æ–∫—É—Å –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ enum –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ TypeScript.**
